<!DOCTYPE html>
<meta charset="utf-8">

<!-- Load d3.js -->
<script src="https://d3js.org/d3.v4.js"></script>

<!-- Create a div where the graph will take place -->
<div id="my_dataviz"></div>

<script>


// set the dimensions and margins of the graph
var margin = {top: 20, right: 30, bottom: 40, left: 90},
    width = 460 - margin.left - margin.right,
    height = 400 - margin.top - margin.bottom;

// append the svg object to the body of the page
var svg = d3.select("#my_dataviz")
  .append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin.left + "," + margin.top + ")");

// Parse the Data
d3.csv("https://raw.githubusercontent.com/sonalipal/CS498DataViz/master/netflix_rev_trend.csv", function(data) {
 margin = 50;
    var xlogScale = d3.scaleLog().base(10).domain([10, 150]).range([0,200]);
    var ylogScale = d3.scaleLog().base(10).domain([10, 150]).range([200,0]);
    d3.select("svg").append("g")
                      .attr("transform","translate("+margin+","+margin+")")
                     .selectAll("circle")
                     .data(data)
                     .enter()
                     .append("circle")
                     .attr('cx', function(d,i){ return d.year;} )
                     .attr('cy', function(d,i){ return d.revenue;} )
                     .attr("r",function(d,i)  {return 2;});

d3.select("svg").append("g")
      .attr("transform", "translate("+margin+","+margin+")")
      .call(d3.axisLeft(ylogScale).tickValues([10,20,50,100]).tickFormat(d3.format("~s")));  

d3.select("svg").append("g")
      .attr("transform", "translate("+margin+","+(200+margin)+")")
      .call(d3.axisBottom(xlogScale).tickValues([2005,2006,2007,2008]).tickFormat(d3.format("~s")));
  
})

</script>
